name: Fabric CI Validation

on:
  pull_request:
    branches: [ "main" ]

jobs:
  validate-fabric-assets:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Validate JSON Files
        run: |
          sudo apt-get install -y jq
          find . -name "*.json" -print0 | xargs -0 -I {} jq empty {}

      - name: Validate YAML Files
        uses: ibiqlik/action-yamllint@v3

      - name: Validate Notebook Syntax
        run: |
          find . -name "*.py" | xargs -I {} python -m py_compile {}
